"use strict";$(function(){$(".blog__item").click(function(e){window.innerWidth<768&&!$(this).hasClass("active")&&(e.preventDefault(),$(this).addClass("active"))}),$(".blog__item").on("touchstart",function(e){window.innerWidth<768&&!$(this).hasClass("active")&&(e.preventDefault(),$(this).addClass("active"))})}),$(function(){$(".blog__item").click(function(e){window.innerWidth<768&&!$(this).hasClass("active")&&(e.preventDefault(),$(this).addClass("active"))}),$(".blog__item").on("touchstart",function(e){window.innerWidth<768&&!$(this).hasClass("active")&&(e.preventDefault(),$(this).addClass("active"))})}),function(){var e,t=document.querySelector(".js-cart-form form");t&&(Element.prototype.remove||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),(e=document.querySelectorAll(".js-remove-btn"))&&Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(){e.parentNode.remove(),!1===function(){var e=document.querySelectorAll(".js-cart-item");return!(null===e.length||e.length<1)}()&&function(){var e=document.querySelectorAll(".js-registration-btn");e&&Array.prototype.forEach.call(e,function(e){e.remove()})}()}),e.addEventListener("keydown",function(){13===evt.keyCode&&e.parentNode.remove()})}),console.log("!"))}(),function(){var e=document.querySelector("body"),t="scrollbar";0<function(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var o=e.offsetWidth;return n==o&&(o=t.clientWidth),document.body.removeChild(t),n-o}()?e.classList.add(t):e.classList.remove(t)}(),function(){var e=document.querySelectorAll('input[type="tel"]');e&&Array.prototype.forEach.call(e,function(e){new IMask(e,{mask:"+7(000)000-00-00"})})}(),$(function(){var t=$(".js-menu-btn"),e=$(".js-menu"),n=$(".js-menu .menu__wrapper"),o=[".header .logo",".js-menu-btn",".js-search",".header .nav-menu",".header .phones"];function r(){t.removeClass("active"),e.fadeOut(),$(document).off("keydown",c),$(document).off("mouseup",i),$("body").removeClass("scroll-hidden")}function c(e){27===e.keyCode&&r()}function i(e){t.is(e.target)||0!==t.has(e.target).length||n.is(e.target)||0!==n.has(e.target).length||r()}t.on("click",function(){window.outerWidth<768&&(e.hasClass("mobile-menu")||($.each(o,function(e,t){$(t).clone().appendTo(n)}),e.addClass("mobile-menu"),e.find(".js-menu-btn").on("click",function(){r()}))),t.toggleClass("active"),e.fadeToggle(),$(document).on("keydown",c),$(document).on("mouseup",i),$("body").toggleClass("scroll-hidden")})}),function(){var n=document.querySelector(".js-tabs");if(n){var e=n.querySelectorAll("label");Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(){window.innerWidth<768&&!e.classList.contains("active")?(t(),function(e){var t=e.getAttribute("data-tabs"),n=document.querySelector('.js-tabs-content[data-tabs="'+t+'"]').cloneNode(!0);n.classList.add("active"),e.classList.add("active"),function(e,t){t.parentNode.insertBefore(e,t.nextSibling)}(n,e)}(e)):t()})})}function t(){var e=n.querySelector(".js-tabs-content.active"),t=n.querySelector("label.active");e&&t&&(e.remove(),t.classList.remove("active"))}}(),function(){var e,t=document.querySelectorAll(".js-modal"),r="js-hide",c=document.querySelector("body"),i="scroll-hidden",n=[{BTN:"селектор кнопки",MODAL:"селектор модалки",CALLBACK:"название функции (если есть)"},{BTN:".js-card-cart",MODAL:".js-modal-add"},{BTN:".js-buy-click-btn",MODAL:".js-modal-buy-click"}];t&&((e=Element.prototype).matches=e.matches||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector,e.closest=e.closest||function(e){return this?this.matches(e)?this:this.parentElement?this.parentElement.closest(e):null:null},Array.prototype.forEach.call(t,function(e){var t=e.querySelectorAll(".js-close-btn"),n=e.querySelector(".modal__container");function o(){e.classList.add(r),c.classList.remove(i)}Array.prototype.forEach.call(t,function(e){e.addEventListener("click",o),e.addEventListener("keydown",function(e){13===e.keyCode&&o()})}),e.addEventListener("click",function(e){n.contains(e.target)||o()}),document.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),o())})}),Array.prototype.forEach.call(n,function(t){document.addEventListener("click",function(e){e.target.closest(t.BTN)&&(e.preventDefault(),o(t.MODAL),t.CALLBACK&&"function"==typeof window[t.CALLBACK]&&window[t.CALLBACK]())}),document.addEventListener("keydown",function(e){e.target.closest(t.BTN)&&13===e.keyCode&&(e.preventDefault(),o(t.MODAL),t.CALLBACK&&"function"==typeof window[t.CALLBACK]&&window[t.CALLBACK]())})}));function o(e){var t=document.querySelector(e);t&&(t.classList.remove(r),c.classList.add(i),function(e){var t=e.querySelector('form input[type]:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]):not([type="file"]):not([type="image"])');t&&t.focus()}(t))}}(),function(){var e;(e=document.querySelectorAll(".quantity-block"))&&Array.prototype.forEach.call(e,function(e){var t=e.querySelector(".quantity-block__btn--minus"),n=e.querySelector(".quantity-block__btn--plus"),o=e.querySelector("input"),r=o.getAttribute("data-min"),c=o.getAttribute("data-max"),i=r&&parseInt(r)?r:2,l=r&&parseInt(r)?c:100;new IMask(o,{mask:Number,min:i,max:l}),t.addEventListener("click",function(){o.value>i&&(o.value=+o.value-1)}),n.addEventListener("click",function(){o.value<l&&(o.value=+o.value+1)})})}(),$(function(){var t=$(".js-search-btn"),n=$(".js-search");function o(e){27===e.keyCode&&(t.removeClass("active"),n.fadeOut(),$(document).off("keydown",o),$(document).off("mouseup",r))}function r(e){t.is(e.target)||0!==t.has(e.target).length||n.is(e.target)||0!==n.has(e.target).length||(t.removeClass("active"),n.fadeOut(),$(document).off("keydown",o),$(document).off("mouseup",r))}t.on("click",function(){$(this).toggleClass("active"),n.fadeToggle(),$(document).on("keydown",o),$(document).on("mouseup",r)})}),function(){var e=document.querySelectorAll(".select");e&&Array.prototype.forEach.call(e,function(t){var n=t.querySelector(".select__btn"),o=t.querySelector(".select__options"),e=t.querySelectorAll(".select__option input"),r=(t.querySelector(".select__option input:checked"),t.querySelector(".select__option input:checked+label")),c="select__btn--open";function i(){r&&(n.textContent=r.textContent)}function l(){n.classList.toggle(c),null===o.getAttribute("style")?o.style.height=o.scrollHeight+"px":(o.style.height=o.scrollHeight+"px",window.getComputedStyle(o,null).getPropertyValue("height"),o.removeAttribute("style")),o.addEventListener("transitionend",function(){null!==o.getAttribute("style")&&(o.style.height="auto")})}Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(){t.querySelector(".select__option input:checked"),r=t.querySelector(".select__option input:checked+label"),i(),l()})}),i(),n.addEventListener("click",l),document.addEventListener("click",function(e){!n.classList.contains(c)||n.contains(e.target)||o.contains(e.target)||l()})})}(),new Swiper(".promo-banners",{autoplay:{delay:5e3},loop:!0,effect:"fade",slidesPerView:1,spaceBetween:0,speed:1e3,loop:!0,grabCursor:!0,keyboard:{enabled:!0}}),function(){var e;(e=document.querySelectorAll(".product-gallery"))&&Array.prototype.forEach.call(e,function(e){var t=e.querySelector(".product-gallery__thumbs"),n=e.querySelector(".product-gallery__top"),o=e.querySelector(".product-gallery__nav--next"),r=e.querySelector(".product-gallery__nav--prev"),c=new Swiper(t,{slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,observer:!0,observeParents:!0,breakpoints:{1200:{direction:"vertical"}}});new Swiper(n,{spaceBetween:10,observer:!0,observeParents:!0,navigation:{nextEl:o,prevEl:r},thumbs:{swiper:c}})})}(),$(function(){$(".js-submenu-item").on("click",function(e){window.outerWidth<768&&"submenu__link"!==e.target.className&&(e.preventDefault(),$(this).children(".js-submenu").slideToggle())})}),$(function(){function e(e){var t=function(e){var t=document.createElement("iframe");return t.setAttribute("allowfullscreen",""),t.setAttribute("allow","autoplay"),t.setAttribute("src",function(e){return e.getAttribute("data-url")+"?rel=0&autoplay=1"}(e)),t.classList.add("video__media"),t}(e);$(e).find(".video__link").removeAttr("href").hide("slow"),$(e).find(".video__btn").hide("slow"),$(e).addClass("active"),e.appendChild(t)}$(".video").click(function(){$(this).hasClass("active")||e(this)})});